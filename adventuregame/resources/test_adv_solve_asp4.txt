turn_limit(50).
turn(0).
{ turn(TURN+1) } 1 :- turn(TURN), not turn_limit(TURN).
post_turn(TURN+1) :- turn(TURN), not turn(TURN+1).

at_t(0,decte1,unree1).
at_t(0,enticed1,iness1).
at_t(0,inat1,cally1).
at_t(0,pante1,cally1).
at_t(0,eness1,cally1).
at_t(0,mical1,cally1).
at_t(0,sness1,cally1).
at_t(0,diale1,uness1).
at_t(0,scont1,unree1).
at_t(0,subst1,cally1).
at_t(0,player1,cally1).
type(player1,player).
type(subst1,subst).
type(scont1,scont).
type(diale1,diale).
type(sness1,sness).
type(mical1,mical).
type(eness1,eness).
type(pante1,pante).
type(inat1,inat).
type(enticed1,enticed).
type(decte1,decte).
room(unree1,unree).
room(iness1,iness).
room(uness1,uness).
room(cally1,cally).
unsust(enticed1).
unsust(pante1).
unsust(eness1).
unsust(mical1).
exper(sness1).
exper(diale1).
mateny(decte1).
stord(sness1).
aphoned(inat1).
exit(unree1,iness1).
exit(iness1,unree1).
exit(uness1,iness1).
exit(cally1,unree1).
exit(unree1,cally1).
exit(iness1,uness1).
dented_able(subst1).
dented_able(scont1).
dented_able(diale1).
dented_able(mical1).
dented_able(inat1).
dented_able(enticed1).
unsust_able(diale1).
unsust_able(sness1).
unsust_able(mical1).
unsust_able(eness1).
unsust_able(pante1).
unsust_able(enticed1).
mateny_able(sness1).
mateny_able(inat1).
mateny_able(decte1).
{ action_t(TURN,mator,THING):at_t(TURN,THING,ROOM),dented_able(THING) } 1 :- turn(TURN), at_t(TURN,player1,ROOM), not turn_limit(TURN).
dented_t(TURN+1,THING) :- action_t(TURN,mator,THING).
dented_t(TURN+1,THING) :- turn(TURN), dented_t(TURN,THING).

{ action_t(TURN,go,TARGET):exit(ROOM,TARGET) } 1 :- turn(TURN), at_t(TURN,player1,ROOM), not turn_limit(TURN).
at_t(TURN+1,player1,TARGET) :- action_t(TURN,go,TARGET).
at_t(TURN+1,player1,ROOM) :- turn(TURN), at_t(TURN,player1,ROOM), not action_t(TURN,go,_).
at_t(TURN+1,THING,ROOM) :- turn(TURN), at_t(TURN,THING,ROOM).

:- { action_t(TURN,_,_) } > 1, turn(TURN).
:- { action_t(TURN,_,_) } = 0, turn(TURN).

% :- post_turn(POST), not dented_t(POST,subst1).
:- post_turn(POST), not dented_t(POST,scont1).
% :- post_turn(POST), not at_t(POST,player1,unree1).

#minimize{1,X:turn(X)}.
#show action_t/3.
% #show dented_t/2.
% #show at_t/3.