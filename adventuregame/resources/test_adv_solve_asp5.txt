turn_limit(50).
turn(0).
{ turn(TURN+1) } 1 :- turn(TURN), not turn_limit(TURN).
post_turn(TURN+1) :- turn(TURN), not turn(TURN+1).

at(decte1,unree1).
at(enticed1,iness1).
at(inat1,cally1).
at(pante1,cally1).
at(eness1,cally1).
at(mical1,cally1).
at(sness1,cally1).
at(diale1,uness1).
at(scont1,unree1).
at(subst1,cally1).
at(player1,cally1).
type(player1,player).
type(subst1,subst).
type(scont1,scont).
type(diale1,diale).
type(sness1,sness).
type(mical1,mical).
type(eness1,eness).
type(pante1,pante).
type(inat1,inat).
type(enticed1,enticed).
type(decte1,decte).
room(unree1,unree).
room(iness1,iness).
room(uness1,uness).
room(cally1,cally).

unsust_t(0,enticed1).
unsust_t(0,pante1).
unsust_t(0,eness1).
unsust_t(0,mical1).
exper_t(0,sness1).
exper_t(0,diale1).
mateny_t(0,decte1).
stord_t(0,sness1).
aphoned_t(0,inat1).

exit(unree1,iness1).
exit(iness1,unree1).
exit(uness1,iness1).
exit(cally1,unree1).
exit(unree1,cally1).
exit(iness1,uness1).
dented_able(subst1).
dented_able(scont1).
dented_able(diale1).
dented_able(mical1).
dented_able(inat1).
dented_able(enticed1).
unsust_able(diale1).
unsust_able(sness1).
unsust_able(mical1).
unsust_able(eness1).
unsust_able(pante1).
unsust_able(enticed1).
mateny_able(sness1).
mateny_able(inat1).
mateny_able(decte1).
{ action_t(TURN,mator,THING):at_t(TURN,THING,ROOM),dented_able(THING) } 1 :- turn(TURN), at_t(TURN,player1,ROOM), not turn_limit(TURN).
dented_t(TURN+1,THING) :- action_t(TURN,mator,THING).
dented_t(TURN+1,THING) :- turn(TURN), dented_t(TURN,THING).
{ action_t(TURN,unbal,THING):at_t(TURN,THING,ROOM),unsust_able(THING),unsust_t(TURN,THING) } 1 :- turn(TURN), at_t(TURN,player1,ROOM), not turn_limit(TURN).
exper_t(TURN+1,THING) :- action_t(TURN,unbal,THING).
unsust_t(TURN+1,THING) :- turn(TURN), unsust_t(TURN,THING), not action_t(TURN,unbal,THING).
{ action_t(TURN,gatic,THING):at_t(TURN,THING,ROOM),unsust_able(THING),exper_t(TURN,THING) } 1 :- turn(TURN), at_t(TURN,player1,ROOM), not turn_limit(TURN).
unsust_t(TURN+1,THING) :- action_t(TURN,gatic,THING).
exper_t(TURN+1,THING) :- turn(TURN), exper_t(TURN,THING), not action_t(TURN,gatic,THING).
{ action_t(TURN,ratic,THING):at_t(TURN,THING,ROOM),mateny_able(THING),mateny_t(TURN,THING) } 1 :- turn(TURN), at_t(TURN,player1,ROOM), not turn_limit(TURN).
stord_t(TURN+1,THING) :- action_t(TURN,ratic,THING).
mateny_t(TURN+1,THING) :- turn(TURN), mateny_t(TURN,THING), not action_t(TURN,ratic,THING).
{ action_t(TURN,remic,THING):at_t(TURN,THING,ROOM),mateny_able(THING),stord_t(TURN,THING) } 1 :- turn(TURN), at_t(TURN,player1,ROOM), not turn_limit(TURN).
aphoned_t(TURN+1,THING) :- action_t(TURN,remic,THING).
stord_t(TURN+1,THING) :- turn(TURN), stord_t(TURN,THING), not action_t(TURN,remic,THING).
{ action_t(TURN,proar,THING):at_t(TURN,THING,ROOM),mateny_able(THING),aphoned_t(TURN,THING) } 1 :- turn(TURN), at_t(TURN,player1,ROOM), not turn_limit(TURN).
mateny_t(TURN+1,THING) :- action_t(TURN,proar,THING).
aphoned_t(TURN+1,THING) :- turn(TURN), aphoned_t(TURN,THING), not action_t(TURN,proar,THING).
{ action_t(TURN,go,TARGET):exit(ROOM,TARGET) } 1 :- turn(TURN), at_t(TURN,player1,ROOM), not turn_limit(TURN).
at_t(TURN+1,player1,TARGET) :- action_t(TURN,go,TARGET).
at_t(TURN+1,player1,ROOM) :- turn(TURN), at_t(TURN,player1,ROOM), not action_t(TURN,go,_).
at_t(TURN+1,THING,ROOM) :- turn(TURN), at_t(TURN,THING,ROOM), not THING = player1.



:- { action_t(TURN,_,_) } > 1, turn(TURN).
:- { action_t(TURN,_,_) } = 0, turn(TURN).
:- post_turn(POST), not dented_t(POST,subst1).
:- post_turn(POST), not unsust_t(POST,diale1).
:- post_turn(POST), not mateny_t(POST,inat1).
#minimize{1,X:turn(X)}.
#show action_t/3.